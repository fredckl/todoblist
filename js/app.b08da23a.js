(function(t){function e(e){for(var n,a,r=e[0],c=e[1],l=e[2],u=0,b=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&b.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(b.length)b.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,r=1;r<o.length;r++){var c=o[r];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={app:0},s=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/todoblist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},3625:function(t,e,o){},"36d2":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n,i,s,a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"h-screen",attrs:{id:"app"}},[o("div",{staticClass:"page fixed w-full md:w-3/5 m-auto left-0 right-0 border-t-8 border-gray-100"},[o("h1",{staticClass:"text-center text-4xl font-handwriting"},[t._v("Todoblist")]),o("todo-quick-edit",{attrs:{mode:"quick"}})],1),o("div",{staticClass:"h-full w-full md:w-3/5 m-auto rounded page pt-40 text-gray-700 overflow-auto border-b-8 border-gray-100 scrollbar-hidden"},[o("todo-list")],1)])},c=[],l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"my-4",class:["full"===t.mode?"":"flex"],on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todoData.label,expression:"todoData.label"}],staticClass:"form-input mr-2",attrs:{placeholder:"ajouter une nouvelle tâche"},domProps:{value:t.todoData.label},on:{input:function(e){e.target.composing||t.$set(t.todoData,"label",e.target.value)}}}),"full"===t.mode?o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todoData.description,expression:"todoData.description"}],staticClass:"form-input",domProps:{value:t.todoData.description},on:{input:function(e){e.target.composing||t.$set(t.todoData,"description",e.target.value)}}}):t._e(),o("f-button",[t._v("Enregistrer")])],1)},d=[],u=o("5530"),b=(o("d3b7"),o("25f0"),o("ec26")),f=o("42ff"),p=o("2f62"),h=o("1315"),m={name:"f-button",props:{btnClass:{type:String,default:"primary"},btnType:{type:String,default:"submit"}},render:function(t){var e=this;return t("button",{staticClass:"btn",class:"btn--".concat(this.btnClass),props:{type:this.btnType},on:{click:function(t){return e.$emit("click",t)}}},this.$slots.default)}},v=m,O=o("2877"),j=Object(O["a"])(v,n,i,!1,null,null,null),g=j.exports,T={id:null,label:null,description:null,createdAt:null},_=function(t){return function(e,o){return Object(f["l"])([t,e],o)}},w=_("todoData"),y=_("todo"),x={name:"todo-quick-edit",components:{FButton:g},props:{mode:{type:String,default:"full"},todo:{id:String,label:String,createdAt:String,description:String}},data:function(){return{todoData:{id:y("id",this),label:y("label",this),createdAt:y("createdAt",this),description:y("description",this)}}},methods:Object(u["a"])(Object(u["a"])({},Object(p["b"])(["addTodo","updateTodo"])),{},{getData:function(){},setUuid:function(){return Object(f["s"])(f["g"],b["a"])(w("id",this))},setCreatedAt:function(){return Object(f["s"])(f["g"],(function(){return h["DateTime"].now().toString()}))(w("createdAt",this))},handleSubmit:function(){var t={id:w("id",this),label:w("label",this),description:w("description",this)};w("id",this)?this.updateTodo(t):(this.addTodo(Object(f["j"])({id:this.setUuid(),createdAt:this.setCreatedAt()},t)),this.$set(this,"todoData",Object(u["a"])({},T))),this.$emit("onSubmitted")}})},C=x,A=Object(O["a"])(C,l,d,!1,null,null,null),S=A.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-todo"},[o("todos-count",{attrs:{todos:t.todos}}),o("todo-filter",{on:{showOpen:function(e){t.filterMode="showOpen"},showClosed:function(e){t.filterMode="showClosed"},showAll:function(e){t.filterMode="showAll"}}}),o("todo-search",{on:{onSubmit:t.onSearch}}),t.todos.length?o("ul",t._l(t.todos,(function(e){var n=e.id,i=e.label,s=e.createdAt,a=e.description,r=e.archived;return o("todo-list-item",{key:n,attrs:{label:i,id:n,createdAt:s,archived:r,description:a},on:{onRemove:t.handleRemoveItem}})})),1):t._e(),o("confirm-dialogue",{ref:"confirmDialogue",attrs:{title:"Confirmez votre action",message:"êtes-vous certain-e de vouloir supprimer cette tâche ?"}})],1)},k=[],$=o("1da1"),E=(o("96cf"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",[o("div",{staticClass:"todo-content"},[o("header",{staticClass:"flex justify-between border-b border-green-200 mb-2 pb-2 bg-gray-100 px-1 py-2"},[o("p",{staticClass:"text-grey-800 text-base uppercase"},[t._v(t._s(t.label))]),o("span",{staticClass:"text-gray-600 text-xs bg-white self-start rounded p-1"},[t._v("créé le "+t._s(t.addedAt))])]),o("div",{staticClass:"px-2 pb-2 overflow-x-hidden"},[t.showEdit?t._e():o("div",{staticClass:"flex justify-between items-center show-content"},[t.description?o("p",[t._v(t._s(t.description))]):o("p",{staticClass:"text-gray-400"},[t._v("aucune description")]),o("div",{staticClass:"actions"},[!0===t.archived?o("f-button",{attrs:{btnType:"button",btnClass:"secondary"},on:{click:t.handleUnarchive}},[o("icon",{attrs:{name:"archive",size:"1rem"}})],1):t._e(),!0!==t.archived?o("f-button",{attrs:{btnType:"button",btnClass:"warning"},on:{click:t.handleArchive}},[o("icon",{attrs:{name:"archive",size:"1rem"}})],1):t._e(),o("f-button",{attrs:{btnType:"button"},on:{click:function(e){t.showEdit=!0}}},[o("icon",{attrs:{name:"pencil-alt",size:"1rem"}})],1),o("f-button",{attrs:{btnType:"button",btnClass:"danger"},on:{click:t.handleRemove}},[o("icon",{attrs:{name:"trash",size:"1rem"}})],1)],1)]),t.showEdit?o("div",{staticClass:"todo-edit flex justify-between"},[o("todo-quick-edit",{attrs:{todo:{id:t.id,label:t.label,createdAt:t.createdAt,description:t.description}},on:{onSubmitted:t.cancel}}),o("f-button",{attrs:{btnType:"button",btnClass:"secondary"},on:{click:t.cancel}},[t._v("annuler")])],1):t._e()])])])}),P=[],M={name:"todo-list-item",components:{TodoQuickEdit:S,FButton:g},props:{id:{type:String,required:!0},label:{type:String,required:!0},createdAt:{type:String},description:{type:String},archived:{type:Boolean}},data:function(){return{showEdit:!1}},computed:{addedAt:function(){return h["DateTime"].fromISO(this.createdAt).toFormat("dd/MM/yyyy")}},methods:Object(u["a"])(Object(u["a"])({},Object(p["b"])(["archiveTodo","unarchiveTodo"])),{},{cancel:function(){this.showEdit=!1},handleRemove:function(){this.$emit("onRemove",this.id)},handleArchive:function(){this.archiveTodo(this.id)},handleUnarchive:function(){this.unarchiveTodo(this.id)}})},R=M,I=(o("97d6"),Object(O["a"])(R,E,P,!1,null,"49372380",null)),U=I.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("popup-modal",{ref:"popup"},[o("section",{staticClass:"flex flex-col h-full content-between w-full",staticStyle:{height:"200px"}},[o("header",{staticClass:"border-b p-2 mb-auto font-bold text-2xl"},[t.title&&t.title.length?o("h1",[t._v(t._s(t.title))]):t._e()]),o("p",{staticClass:"p-2 mb-auto"},[t._v(t._s(t.message))]),o("footer",{staticClass:"border-t p-2 mt-auto flex justify-end footer-actions"},[o("f-button",{attrs:{btnClass:"secondary"},on:{click:t.cancel}},[t._v(t._s(t.cancelText))]),o("f-button",{on:{click:t.confirm}},[t._v(t._s(t.confirmText))])],1)])])},V=[],q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[t.isVisible?o("div",{staticClass:"modal"},[o("div",{staticClass:"overlay",on:{click:function(e){t.isVisible=!1}}}),o("section",{staticClass:"box"},[t._t("default")],2)]):t._e()])},z=[],F={name:"popup-modal",data:function(){return{isVisible:!1}},methods:{open:function(){this.$set(this,"isVisible",!0)},close:function(){this.$set(this,"isVisible",!1)}}},B=F,L=(o("82db"),Object(O["a"])(B,q,z,!1,null,"6a6da095",null)),H=L.exports,J={name:"confirm-dialogue",components:{PopupModal:H,FButton:g},props:{message:String,title:String,confirmText:{type:String,default:"Valider"},cancelText:{type:String,default:"Annuler"}},data:function(){return{isVisible:!1,resolvePromise:void 0,rejectPromise:void 0}},methods:{confirm:function(){return this.$refs.popup.close(),this.resolvePromise(!0)},cancel:function(){return this.$refs.popup.close(),this.resolvePromise(!1)},show:function(){var t=this;return this.$refs.popup.open(),new Promise((function(e,o){t.resolvePromise=e,t.rejectPromise=o}))}}},Q=J,G=(o("e275"),Object(O["a"])(Q,N,V,!1,null,"4f9bc106",null)),K=G.exports,W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"font-handwriting text-2xl flex flex-wrap items-center justify-center"},[t._v(" Nombre de tâches : "),o("span",{staticClass:"ml-5 h-5 text-sm w-5 text-white font-sans flex items-center justify-center rounded-full bg-purple-500"},[t._v(t._s(t.countTodos))])])},X=[],Y={name:"TodosCount",props:{todos:Array},computed:Object(u["a"])(Object(u["a"])({},Object(p["c"])(["openTodos"])),{},{countTodos:function(){return this.todos?this.todos.length:this.openTodos.length}})},Z=Y,tt=Object(O["a"])(Z,W,X,!1,null,null,null),et=tt.exports,ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-filters my-3"},[o("f-button",{attrs:{btnClass:t.getActiveClass("showOpen")},on:{click:function(e){t.$emit("showOpen"),t.active="showOpen"}}},[t._v("A faire")]),o("f-button",{attrs:{btnClass:t.getActiveClass("showClosed")},on:{click:function(e){t.$emit("showClosed"),t.active="showClosed"}}},[t._v("Archivé-s")]),o("f-button",{attrs:{btnClass:t.getActiveClass("showAll")},on:{click:function(e){t.$emit("showAll"),t.active="showAll"}}},[t._v("Tous")])],1)},nt=[],it={components:{FButton:g},name:"todo-filter",data:function(){return{active:"showOpen"}},methods:{getActiveClass:function(t){return this.active===t?"primary":"outline--primary"}}},st=it,at=(o("eea5"),Object(O["a"])(st,ot,nt,!1,null,"7c2b9886",null)),rt=at.exports,ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"search-todo flex",on:{submit:function(e){return e.preventDefault(),t.$emit("onSubmit",t.search)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-input mr-2",attrs:{type:"text",placeholder:"Recherche..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),o("f-button",[t._v("GO")])],1)},lt=[],dt=(o("841c"),o("ac1f"),function(t,e){var o;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];clearTimeout(o),o=setTimeout((function(){t.apply(this,i)}),e)}}),ut={name:"todo-search",components:{FButton:g},data:function(){return{search:null}},methods:{onSubmit:function(){this.$emit("onSubmit",this.search)}},created:function(){this.debounceSearch=dt(this.onSubmit,500)},watch:{search:function(){this.debounceSearch()}}},bt=ut,ft=Object(O["a"])(bt,ct,lt,!1,null,null,null),pt=ft.exports,ht=Object(f["a"])([f["g"],f["f"]]),mt=Object(f["b"])(f["k"],ht),vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","description"];return Object(f["c"])(Object(f["b"])(Object(f["e"])(Object(f["q"])(t||"")),Object(f["h"])(" "),Object(f["i"])(f["q"]),Object(f["c"])(mt),f["r"],Object(f["m"])(e)))},Ot={name:"TodList",components:{TodoListItem:U,ConfirmDialogue:K,TodosCount:et,TodoFilter:rt,TodoSearch:pt},data:function(){return{filterMode:"showOpen",searchData:null}},computed:Object(u["a"])(Object(u["a"])({},Object(p["c"])(["openTodos","allTodos","closedTodos"])),{},{todos:function(){var t=[];switch(this.filterMode){case"showAll":t=this.allTodos;break;case"showClosed":t=this.closedTodos;break;default:t=this.openTodos}return Object(f["d"])(Object(f["b"])(ht,Object(f["n"])("searchData")),Object(f["n"])("todos"),Object(f["b"])(vt(this.searchData),Object(f["n"])("todos")))({searchData:this.searchData,todos:t})}}),methods:Object(u["a"])(Object(u["a"])({},Object(p["b"])(["removeTodo"])),{},{onSearch:function(t){this.searchData=t},handleRemoveItem:function(t){var e=this;return Object($["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.$refs.confirmDialogue.show();case 2:n=o.sent,n&&e.removeTodo(t);case 4:case"end":return o.stop()}}),o)})))()}})},jt=Ot,gt=Object(O["a"])(jt,D,k,!1,null,null,null),Tt=gt.exports,_t={name:"App",components:{TodoQuickEdit:S,TodoList:Tt}},wt=_t,yt=Object(O["a"])(wt,r,c,!1,null,null,null),xt=yt.exports,Ct=o("8ded"),At=o.n(Ct),St=function(){return{todos:[]}},Dt="ADD_TODO_MUTATION",kt="UPDATE_TODO_MUTATION",$t="ARCHIVE_TODO_MUTATION",Et="UNARCHIVE_TODO_MUTATION",Pt="REMOVE_TODO_MUTATION",Mt=function(t){At.a.set("todos",Object(f["n"])("todos",t))},Rt={addTodo:function(t,e){var o=t.commit,n=t.state;o(Dt,e),Mt(n)},updateTodo:function(t,e){var o=t.commit,n=t.state;o(kt,e),Mt(n)},removeTodo:function(t,e){var o=t.commit,n=t.state;o(Pt,e),Mt(n)},archiveTodo:function(t,e){var o=t.commit,n=t.state;o($t,e),Mt(n)},unarchiveTodo:function(t,e){var o=t.commit,n=t.state;o(Et,e),Mt(n)}},It=o("ade3"),Ut=o("2909"),Nt=(o("99af"),{id:null,label:null,createdAt:null,description:null,archived:!1}),Vt=(s={},Object(It["a"])(s,Dt,(function(t,e){t.todos=[].concat(Object(Ut["a"])(t.todos),[Object(f["j"])(e,Nt)])})),Object(It["a"])(s,kt,(function(t,e){var o=Object(f["n"])("id",e);t.todos=Object(f["b"])(Object(f["i"])(Object(f["s"])(Object(f["o"])("id",o),Object(f["j"])(e))),Object(f["n"])("todos"))(t),console.log("=====>",t.todos,e)})),Object(It["a"])(s,Pt,(function(t,e){var o=Object(f["b"])(f["k"],Object(f["o"])("id",e));t.todos=Object(f["c"])(o)(t.todos)})),Object(It["a"])(s,$t,(function(t,e){t.todos=Object(f["b"])(Object(f["i"])(Object(f["s"])(Object(f["o"])("id",e),Object(f["j"])({archived:!0}))),Object(f["n"])("todos"))(t)})),Object(It["a"])(s,Et,(function(t,e){t.todos=Object(f["b"])(Object(f["i"])(Object(f["s"])(Object(f["o"])("id",e),Object(f["j"])({archived:!1}))),Object(f["n"])("todos"))(t)})),s),qt=Object(f["b"])(f["p"],Object(f["c"])(Object(f["b"])(f["k"],Object(f["o"])("archived",!0))),Object(f["n"])("todos")),zt=Object(f["b"])(f["p"],Object(f["c"])(Object(f["o"])("archived",!0)),Object(f["n"])("todos")),Ft=Object(f["b"])(f["p"],Object(f["n"])("todos")),Bt={openTodos:qt,closedTodos:zt,allTodos:Ft},Lt={state:St,actions:Rt,mutations:Vt,getters:Bt};a["a"].use(p["a"]);var Ht=new p["a"].Store({mutations:{initializeStore:function(t){t.todos.todos=At.a.get("todos",[])}},modules:{todos:Lt}}),Jt=o("5c16");o("7d05");a["a"].config.productionTip=!1,a["a"].component("icon",Jt["a"]),new a["a"]({store:Ht,beforeCreate:function(){this.$store.commit("initializeStore")},render:function(t){return t(xt)}}).$mount("#app")},"7d05":function(t,e,o){},"82db":function(t,e,o){"use strict";o("edb1")},"97d6":function(t,e,o){"use strict";o("3625")},e275:function(t,e,o){"use strict";o("36d2")},edb1:function(t,e,o){},eea5:function(t,e,o){"use strict";o("fb0a")},fb0a:function(t,e,o){}});
//# sourceMappingURL=app.b08da23a.js.map